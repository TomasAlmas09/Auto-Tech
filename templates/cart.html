{% extends 'core/base.html' %} {% block title %}Cart{% endblock %}

<body>
  {% block main %}
  <main>
    <section class="cart">
      <h2>Carrinho</h2>
      <table>
        <thead>
          <tr>
            <th>Produto</th>
            <th>Quantidade</th>
            <th>Preço</th>
            <th>Subtotal</th>
            <th>Ações</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Jantes Desportivas</td>
            <td>1</td>
            <td>400€</td>
            <td>400€</td>
            <td>
              <button class="remove-button">Remover</button>
            </td>
          </tr>
          <tr>
            <td>Spoiler Traseiro</td>
            <td>1</td>
            <td>150€</td>
            <td>150€</td>
            <td>
              <button class="remove-button">Remover</button>
            </td>
          </tr>
        </tbody>
      </table>
      <p class="total"><strong>Total:</strong> 550€</p>
      <a href="checkout.html" class="checkout-button">Finalizar Compra</a>
    </section>
  </main>
  {% endblock %}
</body>

{% block script %}
<script>
  document.addEventListener("DOMContentLoaded", () => {
    let slideIndex = 0;
    const slides = document.querySelectorAll(".slide");
    const totalSlides = slides.length;
    let slideInterval = setInterval(() => moveSlide(1), 5000);

    function moveSlide(step) {
      clearInterval(slideInterval); // Clear interval to stop auto-slide temporarily
      slideIndex += step;
      if (slideIndex < 0) slideIndex = totalSlides - 1;
      else if (slideIndex >= totalSlides) slideIndex = 0;
      updateSlider();
      slideInterval = setInterval(() => moveSlide(1), 5000); // Restart auto-slide
    }

    function updateSlider() {
      const slideWidth = slides[0].clientWidth;
      document.querySelector(".slides").style.transform = `translateX(${
        -slideWidth * slideIndex
      }px)`;
    }
  });
</script>
{% endblock %} {% include 'core/footer.html' %} {% endblock %}
