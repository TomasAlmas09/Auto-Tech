{% extends 'core/base.html' %}

{% block wrapper %}
<main>
    <section class="hero">
        <div class="slider">
            <div class="slides">
                <div class="slide">
                    <img src="{{ url_for('static', filename='images/banner1.png') }}" alt="Promoção de Natal">
                    <div class="content">
                        <h2>BLACK FRIDAY!</h2>
                        <p>Não perca as nossas promoções de BLACK FRIDAY com até 80% de desconto!</p>
                        <a href="#" class="btn">Saiba Mais</a>
                    </div>
                </div>
                <div class="slide">
                    <img src="{{ url_for('static', filename='images/banner2.png') }}" alt="Ofertas Exclusivas">
                    <div class="content">
                        <h2>Produtos Exclusivos</h2>
                        <p>Produtos únicos e autênticos.</p>
                        <a href="#" class="btn">Ver mais</a>
                    </div>
                </div>
                <div class="slide">
                    <img src="{{ url_for('static', filename='images/banner3.png') }}" alt="Novidades na loja">
                    <div class="content">
                        <h2>Deixe seu carro único!</h2>
                        <p>Encontre os produtos ideais para personalizar o seu carro.</p>
                        <a href="#" class="btn">Ver Agora</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="products">
        <h3>Produtos em Destaque</h3>
        <div class="product-list">
            <div class="product">
                <img src="{{ url_for('static', filename='images/jantes.webp') }}" alt="Jantes Desportivas">
                <h4>Jantes Desportivas</h4>
                <p>Preço: 300€</p>
                <button>Ver Produto</button>
            </div>
            <div class="product">
                <img src="{{ url_for('static', filename='images/spoiler.webp') }}" alt="Spoiler Traseiro">
                <h4>Spoiler Traseiro</h4>
                <p>Preço: 150€</p>
                <button>Ver Produto</button>
            </div>
            <div class="product">
                <img src="{{ url_for('static', filename='images/coilovers.webp') }}" alt="Coilovers">
                <h4>Coilovers</h4>
                <p>Preço: 400€</p>
                <button>Ver Produto</button>
            </div>
            <div class="product">
                <img src="{{ url_for('static', filename='images/front-lip.avif') }}" alt="Front Lip">
                <h4>Front Lip</h4>
                <p>Preço: 100€</p>
                <button>Ver Produto</button>
            </div>
            <div class="product">
                <img src="{{ url_for('static', filename='images/grelha-frontal.jpg') }}" alt="Grelha Frontal">
                <h4>Grelha Frontal</h4>
                <p>Preço: 250€</p>
                <button>Ver Produto</button>
            </div>
        </div>
    </section>
</main>

{% endblock %}

{% block scripts %}
<script>
    document.addEventListener('DOMContentLoaded', () => {
        let slideIndex = 0;
        const slides = document.querySelectorAll('.slide');
        const totalSlides = slides.length;
        let slideInterval = setInterval(() => moveSlide(1), 5000);

        function moveSlide(step) {
            clearInterval(slideInterval); // Clear interval to stop auto-slide temporarily
            slideIndex += step;
            if (slideIndex < 0) slideIndex = totalSlides - 1;
            else if (slideIndex >= totalSlides) slideIndex = 0;
            updateSlider();
            slideInterval = setInterval(() => moveSlide(1), 5000); // Restart auto-slide
        }

        function updateSlider() {
            const slideWidth = slides[0].clientWidth;
            document.querySelector('.slides').style.transform = `translateX(${-slideWidth * slideIndex}px)`;
        }
    });
</script>
{% endblock %}
